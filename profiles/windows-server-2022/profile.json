{
  "machine_os": "windows",
  "machine_iso_url": "https://www.microsoft.com/en-us/software-download/windows10",
  "machine_iso_filename": "windows-server-2022-amd64.iso",
  "virtio_driver_version": "win2022",
  "machine_boot_mode": "efi",
  "machine_display_mode": "spice",
  "machine_disk_size": "64g",
  "machine_ram_size": "8g",
  "machine_qemu_command": [
    "qemu-system-{machine_architecture}",
    "-global", "driver=cfi.pflash01,property=secure,value=on",
    "-drive", "if=pflash,format=raw,unit=0,file={machine_efi_code},readonly=on",
    "-drive", "if=pflash,format=raw,unit=1,file={machine_efi_vars}",
    "-no-hpet",
    "-global", "kvm-pit.lost_tick_policy=discard",
    "-global", "ICH9-LPC.disable_s3=1",
    "-boot", "order=d,menu=on",
    "-drive", "media=disk,file={machine_disk_prefix}.{machine_disk_format},format={machine_disk_format},if=virtio,aio=native,cache.direct=on,discard=unmap",
    "-m", "size={machine_ram_size}",
    "-device", "virtio-balloon",
    "-cpu", "host,kvm=on,+hypervisor,+invtsc,l3-cache=on,migratable=no,hv_frequencies,kvm_pv_unhalt,hv_reenlightenment,hv_relaxed,hv_spinlocks=0x1fff,hv_stimer,hv_synic,hv_time,hv_vapic,hv_vendor_id=1234567890ab,hv_vpindex",
    "-smp", "dies=1,sockets=1,cores={machine_cpu_cores},threads={machine_cpu_threads}",
    "-machine", "type=q35,accel=kvm,smm=on",
    "-enable-kvm",
    "-device", "intel-iommu",
    "-netdev", "type=tap,id=network0,ifname={machine_network_interface},script=no,downscript=no,vhost=on",
    "-device", "driver=virtio-net,netdev=network0,mac={machine_mac}",
    "-vga", "none",
    "-device", "qxl-vga,vgamem_mb=32",
    "-device", "virtio-serial-pci",
    "-spice", "unix=on,addr={machine_spice_socket},disable-ticketing=on",
    "-chardev", "spicevmc,id=spicechannel0,name=vdagent",
    "-device", "virtserialport,chardev=spicechannel0,name=com.redhat.spice.0",
    "-device", "ich9-intel-hda,bus=pcie.0,addr=0x1b",
    "-device", "hda-micro,audiodev=hda",
    "-audiodev", "pa,id=hda,server=unix:{xdg_runtime_dir}/pulse/native",
    "-usb",
    "-device", "usb-tablet",
    "-device", "nec-usb-xhci,id=usb",
    "-chardev", "spicevmc,name=usbredir,id=usbredirchardev1",
    "-device", "usb-redir,chardev=usbredirchardev1,id=usbredirdev1"
  ]
}
